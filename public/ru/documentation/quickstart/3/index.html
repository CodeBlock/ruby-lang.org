
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ruby Programming Language – Ruby за двадцать минут (3/4)</title>
  <meta name="author" content="Ruby Community">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- meta -->
  

  <!-- scripts -->
  <link rel="canonical" href="http://www.ruby-lang.org/ru/documentation/quickstart/3/index.html"/>
  <link href="/favicon.ico" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <link href="/atom.xml" rel="alternate" title="Ruby Programming Language" type="application/atom+xml"/>
  

  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header>


<hgroup>
  <div id="main-logo">
    <a href="/ru"></a>
    <span>Ruby</span>
  </div>
  <div id="download">
    <a href="/ru/downloads">
      <span class="download">Download 1.9.2</span>
    </a>
  </div>
  <div id="excerpt">
    <div class="hint">
      <div>
        <h2>Ruby</h2>
        <p>
          A happy programmer's language —
          <span class="more"><a href="/ru/about">Read more…</a></span>
        </p>
      <div>
    </div>
  </div>
  <!--<div id="langs">-->
    <!---->
    <!--<a href="/ru/documentation/quickstart/3/index.html">en</a>-->
    <!---->
    <!--<a href="/ru/documentation/quickstart/3/index.html">es</a>-->
    <!---->
    <!--<a href="/ru/documentation/quickstart/3/index.html">fr</a>-->
    <!---->
  <!--</div>-->
  <a href="/ru"></a>
</hgroup>

</header>
  <div id="main">
    <div id="content">
      <div>
<article>
  <header>
    <h1 class="entry-title">Ruby за двадцать минут (3/4)</h1>
  </header>
  <p>Теперь давайте создадим объект приветствия <code>Greeter</code> и воспользуемся им:</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
<span class='line'>5</span>
<span class='line'>6</span>
<span class='line'>7</span>
<span class='line'>8</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">035</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Pat&quot;</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="c1">#&lt;Greeter:0x16cac @name=&quot;Pat&quot;&gt;</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">036</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">say_hi</span>
</div><div class='line'><span class="no">Hi</span> <span class="no">Pat</span><span class="o">!</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">nil</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">037</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">say_bye</span>
</div><div class='line'><span class="no">Bye</span> <span class="no">Pat</span><span class="p">,</span> <span class="n">come</span> <span class="n">back</span> <span class="n">soon</span><span class="o">.</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">nil</span>
</div></code></pre></td></tr></table></div>

<p>Когда новый объект <code>g</code> был создан, он вспоминает что его имя <code>Pat</code>. Но, как же нам получить имя напрямую?</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">03</span><span class="mi">8</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="vi">@name</span>
</div><div class='line'><span class="no">SyntaxError</span><span class="p">:</span> <span class="n">compile</span> <span class="n">error</span>
</div><div class='line'><span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">52</span><span class="p">:</span> <span class="n">syntax</span> <span class="n">error</span>
</div><div class='line'>        <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">52</span>
</div></code></pre></td></tr></table></div>

<p>Нет, так сделать не могу.</p>

<h2>Что скрывается под кожей Объектов</h2>

<p>Переменные экземпляра спрятаны внутри объекта. Ну на самом деле, они не совсем спрятаны, вы можете их получить когда вам потребуется, есть множество способов получить доступ к ним, Ruby использует хорошо объектно-ориентированный подход для хранения данных.</p>

<p>Так какие же методы существуют в нашем <code>Greeter</code>?</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
<span class='line'>5</span>
<span class='line'>6</span>
<span class='line'>7</span>
<span class='line'>8</span>
<span class='line'>9</span>
<span class='line'>10</span>
<span class='line'>11</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">03</span><span class="mi">9</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">instance_methods</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;method&quot;</span><span class="p">,</span> <span class="s2">&quot;send&quot;</span><span class="p">,</span> <span class="s2">&quot;object_id&quot;</span><span class="p">,</span> <span class="s2">&quot;singleton_methods&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;__send__&quot;</span><span class="p">,</span> <span class="s2">&quot;equal?&quot;</span><span class="p">,</span> <span class="s2">&quot;taint&quot;</span><span class="p">,</span> <span class="s2">&quot;frozen?&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;instance_variable_get&quot;</span><span class="p">,</span> <span class="s2">&quot;kind_of?&quot;</span><span class="p">,</span> <span class="s2">&quot;to_a&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;instance_eval&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;protected_methods&quot;</span><span class="p">,</span> <span class="s2">&quot;extend&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;eql?&quot;</span><span class="p">,</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span> <span class="s2">&quot;instance_variable_set&quot;</span><span class="p">,</span> <span class="s2">&quot;hash&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;is_a?&quot;</span><span class="p">,</span> <span class="s2">&quot;to_s&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;tainted?&quot;</span><span class="p">,</span> <span class="s2">&quot;private_methods&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;untaint&quot;</span><span class="p">,</span> <span class="s2">&quot;say_hi&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;inspect&quot;</span><span class="p">,</span> <span class="s2">&quot;==&quot;</span><span class="p">,</span> <span class="s2">&quot;===&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;clone&quot;</span><span class="p">,</span> <span class="s2">&quot;public_methods&quot;</span><span class="p">,</span> <span class="s2">&quot;respond_to?&quot;</span><span class="p">,</span> <span class="s2">&quot;freeze&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;say_bye&quot;</span><span class="p">,</span> <span class="s2">&quot;__id__&quot;</span><span class="p">,</span> <span class="s2">&quot;=~&quot;</span><span class="p">,</span> <span class="s2">&quot;methods&quot;</span><span class="p">,</span> <span class="s2">&quot;nil?&quot;</span><span class="p">,</span> <span class="s2">&quot;dup&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;instance_variables&quot;</span><span class="p">,</span> <span class="s2">&quot;instance_of?&quot;</span><span class="o">]</span>
</div></code></pre></td></tr></table></div>

<p>Ну ничего себе! Да здесь полно методов. Ведь мы определили только два метода.
Что здесь происходит? Ну, это <strong>все</strong> методы для объектов нашего <code>Greeter</code>, полный лист, включая
присвоенные родительским классом. Если мы хотим вывести список методов определенные только классом <code>Greeter</code>, мы можем сказать ему, чтобы он не включал их в список, присвоив параметр <code>false</code>, означающий что мы не хотим показывать методы родительского класса.</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">040</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">instance_methods</span><span class="p">(</span><span class="kp">false</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;say_bye&quot;</span><span class="p">,</span> <span class="s2">&quot;say_hi&quot;</span><span class="o">]</span>
</div></code></pre></td></tr></table></div>

<p>О да, так намного лучше. Так, давайте-ка посмотрим, какие методы отвечают объектам нашего <code>Greeter</code>:</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
<span class='line'>5</span>
<span class='line'>6</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">041</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">false</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">042</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="s2">&quot;say_hi&quot;</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">true</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">043</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="s2">&quot;to_s&quot;</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">true</span>
</div></code></pre></td></tr></table></div>

<p>Так, он знает <code>say_hi</code> и <code>to_s</code> (обозначающий конвертирование значения в <code>string</code>, метод который определен для каждого объекта по умолчанию), но он ничего не знает о <code>name</code>.</p>

<h2>Изменения классов – Никогда не поздно!</h2>

<p>Но, что же делать если мы хотим видеть или менять <code>name</code>? Ruby предлагает очень простой способ для предоставления доступа к переменным объекта.</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">044</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="k">class</span> <span class="nc">Greeter</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">045</span><span class="p">:</span><span class="mi">1</span><span class="o">&gt;</span>   <span class="kp">attr_accessor</span> <span class="ss">:name</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">046</span><span class="p">:</span><span class="mi">1</span><span class="o">&gt;</span> <span class="k">end</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">nil</span>
</div></code></pre></td></tr></table></div>

<p>В Ruby, вы можете открыть класс снова и модифицировать его. Изменения будут доступны в любых новых объектах которые мы создадим, и даже, доступны в существующих объектах данного класса. Так что, давайте создадим новый объект класса и поиграемся с <code>@name</code> значением.</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
<span class='line'>5</span>
<span class='line'>6</span>
<span class='line'>7</span>
<span class='line'>8</span>
<span class='line'>9</span>
<span class='line'>10</span>
<span class='line'>11</span>
<span class='line'>12</span>
<span class='line'>13</span>
<span class='line'>14</span>
<span class='line'>15</span>
<span class='line'>16</span>
<span class='line'>17</span>
<span class='line'>18</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">047</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="no">Greeter</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Andy&quot;</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="c1">#&lt;Greeter:0x3c9b0 @name=&quot;Andy&quot;&gt;</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">04</span><span class="mi">8</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">true</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">04</span><span class="mi">9</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="s2">&quot;name=&quot;</span><span class="p">)</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">true</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">050</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">say_hi</span>
</div><div class='line'><span class="no">Hi</span> <span class="no">Andy</span><span class="o">!</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">nil</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">051</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Betty&quot;</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="s2">&quot;Betty&quot;</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">052</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="c1">#&lt;Greeter:0x3c9b0 @name=&quot;Betty&quot;&gt;</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">053</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">name</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="s2">&quot;Betty&quot;</span>
</div><div class='line'><span class="n">irb</span><span class="p">(</span><span class="n">main</span><span class="p">):</span><span class="mo">054</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">say_hi</span>
</div><div class='line'><span class="no">Hi</span> <span class="no">Betty</span><span class="o">!</span>
</div><div class='line'><span class="o">=&gt;</span> <span class="kp">nil</span>
</div></code></pre></td></tr></table></div>

<p>Используя <code>attr_accessor</code> мы определили два новых метода для нас, <code>name</code> для получения значения, и <code>name=</code> для его обозначения.</p>

<h2>Приветствуем всех и каждого, Супер Приветствие никем не пренебрегает.</h2>

<p>Данное приветствие не самое интересное на данный момент, сейчас оно может иметь дело только с одной персоной в одно и тоже время. Но что если мы хотим сделать Супер Приветствие с именем <code>MegaGreeter</code>, которое могло бы приветствовать и весь мир, и одну персону, и даже целый список людей?</p>

<p>Давайте в этот раз напишем код в файл, вместо нашего интерактивного Ruby интерпретатора IRB.
Чтобы выйти из IRB, напишите “quit”, “exit” или нажмите Control-D.</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
<span class='line'>5</span>
<span class='line'>6</span>
<span class='line'>7</span>
<span class='line'>8</span>
<span class='line'>9</span>
<span class='line'>10</span>
<span class='line'>11</span>
<span class='line'>12</span>
<span class='line'>13</span>
<span class='line'>14</span>
<span class='line'>15</span>
<span class='line'>16</span>
<span class='line'>17</span>
<span class='line'>18</span>
<span class='line'>19</span>
<span class='line'>20</span>
<span class='line'>21</span>
<span class='line'>22</span>
<span class='line'>23</span>
<span class='line'>24</span>
<span class='line'>25</span>
<span class='line'>26</span>
<span class='line'>27</span>
<span class='line'>28</span>
<span class='line'>29</span>
<span class='line'>30</span>
<span class='line'>31</span>
<span class='line'>32</span>
<span class='line'>33</span>
<span class='line'>34</span>
<span class='line'>35</span>
<span class='line'>36</span>
<span class='line'>37</span>
<span class='line'>38</span>
<span class='line'>39</span>
<span class='line'>40</span>
<span class='line'>41</span>
<span class='line'>42</span>
<span class='line'>43</span>
<span class='line'>44</span>
<span class='line'>45</span>
<span class='line'>46</span>
<span class='line'>47</span>
<span class='line'>48</span>
<span class='line'>49</span>
<span class='line'>50</span>
<span class='line'>51</span>
<span class='line'>52</span>
<span class='line'>53</span>
<span class='line'>54</span>
<span class='line'>55</span>
<span class='line'>56</span>
<span class='line'>57</span>
<span class='line'>58</span>
<span class='line'>59</span>
<span class='line'>60</span>
<span class='line'>61</span>
</pre></td><td class='code' width='100%'><pre><code class='ruby'><div class='line'><span class="c1">#!/usr/bin/env ruby</span>
</div><div class='line'>
</div><div class='line'><span class="k">class</span> <span class="nc">MegaGreeter</span>
</div><div class='line'>  <span class="kp">attr_accessor</span> <span class="ss">:names</span>
</div><div class='line'>
</div><div class='line'>  <span class="c1"># Создаем объект</span>
</div><div class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">names</span> <span class="o">=</span> <span class="s2">&quot;World&quot;</span><span class="p">)</span>
</div><div class='line'>    <span class="vi">@names</span> <span class="o">=</span> <span class="n">names</span>
</div><div class='line'>  <span class="k">end</span>
</div><div class='line'>
</div><div class='line'>  <span class="c1"># Говорим всем привет</span>
</div><div class='line'>  <span class="k">def</span> <span class="nf">say_hi</span>
</div><div class='line'>    <span class="k">if</span> <span class="vi">@names</span><span class="o">.</span><span class="n">nil?</span>
</div><div class='line'>      <span class="nb">puts</span> <span class="s2">&quot;...&quot;</span>
</div><div class='line'>    <span class="k">elsif</span> <span class="vi">@names</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="s2">&quot;each&quot;</span><span class="p">)</span>
</div><div class='line'>
</div><div class='line'>      <span class="c1"># @names это список какой-то, итерации!</span>
</div><div class='line'>      <span class="vi">@names</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="nb">name</span><span class="o">|</span>
</div><div class='line'>        <span class="nb">puts</span> <span class="s2">&quot;Hello </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">!&quot;</span>
</div><div class='line'>      <span class="k">end</span>
</div><div class='line'>    <span class="k">else</span>
</div><div class='line'>      <span class="nb">puts</span> <span class="s2">&quot;Hello </span><span class="si">#{</span><span class="vi">@names</span><span class="si">}</span><span class="s2">!&quot;</span>
</div><div class='line'>    <span class="k">end</span>
</div><div class='line'>  <span class="k">end</span>
</div><div class='line'>
</div><div class='line'>  <span class="c1"># Говорим всем пока</span>
</div><div class='line'>  <span class="k">def</span> <span class="nf">say_bye</span>
</div><div class='line'>    <span class="k">if</span> <span class="vi">@names</span><span class="o">.</span><span class="n">nil?</span>
</div><div class='line'>      <span class="nb">puts</span> <span class="s2">&quot;...&quot;</span>
</div><div class='line'>    <span class="k">elsif</span> <span class="vi">@names</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="s2">&quot;join&quot;</span><span class="p">)</span>
</div><div class='line'>      <span class="c1"># Соединяем элементы списка через запятую</span>
</div><div class='line'>      <span class="nb">puts</span> <span class="s2">&quot;Goodbye </span><span class="si">#{</span><span class="vi">@names</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span><span class="si">}</span><span class="s2">.  Come back soon!&quot;</span>
</div><div class='line'>    <span class="k">else</span>
</div><div class='line'>      <span class="nb">puts</span> <span class="s2">&quot;Goodbye </span><span class="si">#{</span><span class="vi">@names</span><span class="si">}</span><span class="s2">.  Come back soon!&quot;</span>
</div><div class='line'>    <span class="k">end</span>
</div><div class='line'>  <span class="k">end</span>
</div><div class='line'>
</div><div class='line'><span class="k">end</span>
</div><div class='line'>
</div><div class='line'>
</div><div class='line'><span class="k">if</span> <span class="bp">__FILE__</span> <span class="o">==</span> <span class="vg">$0</span>
</div><div class='line'>  <span class="n">mg</span> <span class="o">=</span> <span class="no">MegaGreeter</span><span class="o">.</span><span class="n">new</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_hi</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_bye</span>
</div><div class='line'>
</div><div class='line'>  <span class="c1"># Меняем имя на &quot;Zeke&quot;</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="s2">&quot;Zeke&quot;</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_hi</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_bye</span>
</div><div class='line'>
</div><div class='line'>  <span class="c1"># Меняем имя в массив имен</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Albert&quot;</span><span class="p">,</span> <span class="s2">&quot;Brenda&quot;</span><span class="p">,</span> <span class="s2">&quot;Charles&quot;</span><span class="p">,</span>
</div><div class='line'>    <span class="s2">&quot;Dave&quot;</span><span class="p">,</span> <span class="s2">&quot;Englebert&quot;</span><span class="o">]</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_hi</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_bye</span>
</div><div class='line'>
</div><div class='line'>  <span class="c1"># Присваиваем переменной nil</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="kp">nil</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_hi</span>
</div><div class='line'>  <span class="n">mg</span><span class="o">.</span><span class="n">say_bye</span>
</div><div class='line'><span class="k">end</span>
</div></code></pre></td></tr></table></div>

<p>Сохраним этот файл как <code>ri20min.rb</code>, и запустим <code>ruby ri20min.rb</code>. Вывод должен быть:</p>

<div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
<span class='line'>2</span>
<span class='line'>3</span>
<span class='line'>4</span>
<span class='line'>5</span>
<span class='line'>6</span>
<span class='line'>7</span>
<span class='line'>8</span>
<span class='line'>9</span>
<span class='line'>10</span>
<span class='line'>11</span>
<span class='line'>12</span>
<span class='line'>13</span>
</pre></td><td class='code' width='100%'><pre><code class=''><div class='line'><span class="n">Hello</span> <span class="n">World</span><span class="o">!</span>
</div><div class='line'><span class="n">Goodbye</span> <span class="n">World</span><span class="o">.</span>  <span class="n">Come</span> <span class="n">back</span> <span class="n">soon</span><span class="o">!</span>
</div><div class='line'><span class="n">Hello</span> <span class="n">Zeke</span><span class="o">!</span>
</div><div class='line'><span class="n">Goodbye</span> <span class="n">Zeke</span><span class="o">.</span>  <span class="n">Come</span> <span class="n">back</span> <span class="n">soon</span><span class="o">!</span>
</div><div class='line'><span class="n">Hello</span> <span class="n">Albert</span><span class="o">!</span>
</div><div class='line'><span class="n">Hello</span> <span class="n">Brenda</span><span class="o">!</span>
</div><div class='line'><span class="n">Hello</span> <span class="n">Charles</span><span class="o">!</span>
</div><div class='line'><span class="n">Hello</span> <span class="n">Dave</span><span class="o">!</span>
</div><div class='line'><span class="n">Hello</span> <span class="n">Englebert</span><span class="o">!</span>
</div><div class='line'><span class="n">Goodbye</span> <span class="n">Albert</span><span class="p">,</span> <span class="n">Brenda</span><span class="p">,</span> <span class="n">Charles</span><span class="p">,</span> <span class="n">Dave</span><span class="p">,</span> <span class="n">Englebert</span><span class="o">.</span>  <span class="n">Come</span>
</div><div class='line'><span class="n">back</span> <span class="n">soon</span><span class="o">!</span>
</div><div class='line'><span class="o">...</span>
</div><div class='line'><span class="o">...</span>
</div></code></pre></td></tr></table></div>

<p>Большинство новых вещей вы можете найти в финальной части, в которой мы можем <a href="../4">копнуть немного глубже.</a></p>

  
</article>

</div>

<aside role=sidebar>
  
    



<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/08/11/confoo-2012-call-for-papers-is-now-open/">ConFoo 2012: Call for Papers is Now Open!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/08/01/ruby-1-9-3-preview1-has-been-released/">Ruby 1.9.3 preview1 has been released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/07/15/ruby-1-9-2-p290-is-released/">Ruby 1.9.2-p290 is released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/07/02/ruby-1-8-7-p352-released/">Ruby 1.8.7-p352 released</a>
      </li>
    
  </ul>
</section>




  
</aside>


    </div>
  </div>
  <footer>


<nav role=navigation>


<ul role=main-navigation>
  
</ul>

</nav>
<a href="/ru/credits"></a>

</footer>
</body>
</html>
